/**
 * Kairos.js - A non date-based time calculator
 * @author Rodrigo Gomes da Silva <rodrigo.smscom@gmail.com>
 * @version v2.0.0
 * @link https://github.com/kairos
 * @license BSD-2-Clause
 */
!function(){"use strict";var n={};n._locales={},n._locale=n._locales.en,n._pattern="#hh:mm:ss.SSS",n._validator=/^[+-]?\d\d:\d\d:\d\d\.\d\d\d/;var e,t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!==t&&(e=t.Kairos),n.noConflict=function(){return t.Kairos=e,n},n.setLocale=function(e){return"string"==typeof e?n._locale=n._locales[e]:"object"==typeof e?n._locale=e:void 0},n.getLocale=function(){return n._locale},n.setPattern=function(e){n._pattern=e,n._validator=n.Lexicon.getValidator(e)},n.getPattern=function(){return n._pattern},n.validate=function(e,t){return n.Lexicon.validate(e,t)},n["new"]=function(e,t){return new n.Engine(e,t)},n.absolute=function(e,t){return n["new"](e,t).toAbsolute()},n.plus=function(e,t,o){return n["new"](e,o).plus(t,o)},n.minus=function(e,t,o){return n["new"](e,o).minus(t,o)},n.multiply=function(e,t,o){return n["new"](e,o).multiply(t)},n.divide=function(e,t,o){return n["new"](e,o).divide(t)},n.getFraction=function(e,t,o,r){if(t>o)throw new Error("Improper fraction");return n["new"](e,r).multiply(t).divide(o)},n.getInterval=function(e,t,o){return n["new"](e,o).minus(t,o).toAbsolute()},n.toMilliseconds=function(e,t){return n["new"](e,t).toMilliseconds()},n.toSeconds=function(e,t){return n["new"](e,t).toSeconds()},n.toMinutes=function(e,t){return n["new"](e,t).toMinutes()},n.toHours=function(e,t){return n["new"](e,t).toHours()},n.compare=function(e,t,o){return n["new"](e,o).compareTo(t,o)},n.min=function(e,t){e instanceof Array||(e=Array.prototype.slice.call(arguments));var o=e.reduce(function(e,o){return n["new"](e,t).compareTo(o,t)<0?e:o});return n["new"](o,t)},n.max=function(e,t){e instanceof Array||(e=Array.prototype.slice.call(arguments));var o=e.reduce(function(e,o){return n["new"](e,t).compareTo(o,t)>0?e:o});return n["new"](o,t)},"object"==typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define([],function(){return n}):t.Kairos=n,Math.trunc=Math.trunc||function(n){return 0>n?Math.ceil(n):Math.floor(n)}}();
!function(){"use strict";Kairos.locales.en={HOURS:{singular:"hour",plural:"hours"},MINUTES:{singular:"minute",plural:"minutes"},SECONDS:{singular:"second",plural:"seconds"},MILLISECONDS:{singular:"millisecond",plural:"milliseconds"}}}();
!function(){"use strict";Kairos.locales["pt-BR"]={HOURS:{singular:"hora",plural:"horas"},MINUTES:{singular:"minuto",plural:"minutos"},SECONDS:{singular:"segundo",plural:"segundos"},MILLISECONDS:{singular:"milissegundo",plural:"milissegundos"}}}();
!function(){"use strict";var e={SIGN:"#",HOURS:"h",MINUTES:"m",SECONDS:"s",MILLISECONDS:"S"};Kairos.Lexicon={},Kairos.Lexicon.getValidator=function(r){if("string"!=typeof r&&(r=Kairos._pattern),r===Kairos._pattern)return Kairos._validator;for(var a="",s=0,t=r.length;t>s;s++){var i=r[s];switch(i){case e.SIGN:a+="^[+-]?";break;case e.HOURS:case e.MINUTES:case e.SECONDS:case e.MILLISECONDS:a+="\\d";break;default:a+=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}return new RegExp(a)},Kairos.Lexicon.validate=function(e,r){return Kairos.Lexicon.getValidator(r).test(e)},Kairos.Lexicon.parse=function(r,a){if(a||(a=Kairos._pattern),!Kairos.Lexicon.validate(r,a))throw new Error("Cannot parse expression. Time format doesn't match the current time pattern.");for(var s=!0,t="",i="",n="",c="",o=0,l=a.length;l>o;o++){var S=a[o];switch(S){case e.SIGN:var g=-1!==["+","-"].indexOf(r[o]);g?s="+"===r[o]:(a=a.slice(0,o)+a.slice(o+1),l--,o--);break;case e.HOURS:t+=r[o];break;case e.MINUTES:i+=r[o];break;case e.SECONDS:n+=r[o];break;case e.MILLISECONDS:c+=r[o]}}var h=Kairos["new"]().setHours(t?+t:0).setMinutes(i?+i:0).setSeconds(n?+n:0).setMilliseconds(c?+c:0);return s||(h.milliseconds=-h.milliseconds),h},Kairos.Lexicon.format=function(r,a){a||(a=Kairos._pattern);for(var s=r.milliseconds>=0,t=String(r.getHours()),i=String(r.getMinutes()),n=String(r.getSeconds()),c=String(r.getMilliseconds()),o="",l=a.length-1;l>=0;l--){var S=a[l];switch(S){case e.SIGN:o=(s?"+":"-")+o;break;case e.HOURS:o=(t.slice(-1)||"0")+o,t.length>0&&(t=t.slice(0,t.length-1));break;case e.MINUTES:o=(i.slice(-1)||"0")+o,i.length>0&&(i=i.slice(0,i.length-1));break;case e.SECONDS:o=(n.slice(-1)||"0")+o,n.length>0&&(n=n.slice(0,n.length-1));break;case e.MILLISECONDS:o=(c.slice(-1)||"0")+o,c.length>0&&(c=c.slice(0,c.length-1));break;default:o=S+o}}return o}}();
!function(){"use strict";var i={SECOND:1e3,MINUTE:6e4,HOUR:36e5};Kairos.Engine=function(i,t){if(i){if(i instanceof Kairos.Engine)return i;if("number"==typeof i)return this.milliseconds=i;if("string"==typeof i&&i.length>0)return new Kairos.Lexicon.parse(i,t);throw new Error("Invalid arguments")}},Kairos.Engine.prototype._resolveStep=function(t,n){switch(t){case 1:this.removeMilliseconds(this.getMilliseconds());break;case i.SECOND:this.removeSeconds(this.getSeconds());break;case i.MINUTE:this.removeMinutes(this.getMinutes());break;case i.HOUR:this.removeHours(this.getHours())}return this.milliseconds+n*t},Kairos.Engine.prototype.milliseconds=0,Kairos.Engine.prototype.setHours=function(t){return this.milliseconds=this._resolveStep(i.HOUR,t),this},Kairos.Engine.prototype.getHours=function(){return Math.trunc(this.milliseconds/i.HOUR)},Kairos.Engine.prototype.setMinutes=function(t){return this.milliseconds=this._resolveStep(i.MINUTE,t),this},Kairos.Engine.prototype.getMinutes=function(){return Math.trunc(Math.trunc(this.milliseconds-Math.trunc(this.toHours())*i.HOUR)/i.MINUTE)},Kairos.Engine.prototype.setSeconds=function(t){return this.milliseconds=this._resolveStep(i.SECOND,t),this},Kairos.Engine.prototype.getSeconds=function(){return Math.trunc(Math.trunc(this.milliseconds-Math.trunc(this.toMinutes())*i.MINUTE)/i.SECOND)},Kairos.Engine.prototype.setMilliseconds=function(i){return this.milliseconds=this._resolveStep(1,i),this},Kairos.Engine.prototype.getMilliseconds=function(){return Math.trunc(this.milliseconds-Math.trunc(this.toSeconds())*i.SECOND)},Kairos.Engine.prototype.addHours=function(t){return this.milliseconds+=i.HOUR*t,this},Kairos.Engine.prototype.addMinutes=function(t){return this.milliseconds+=i.MINUTE*t,this},Kairos.Engine.prototype.addSeconds=function(t){return this.milliseconds+=i.SECOND*t,this},Kairos.Engine.prototype.addMilliseconds=function(i){return this.milliseconds+=i,this},Kairos.Engine.prototype.removeHours=function(t){return this.milliseconds-=i.HOUR*t,this},Kairos.Engine.prototype.removeMinutes=function(t){return this.milliseconds-=i.MINUTE*t,this},Kairos.Engine.prototype.removeSeconds=function(t){return this.milliseconds-=i.SECOND*t,this},Kairos.Engine.prototype.removeMilliseconds=function(i){return this.milliseconds-=i,this},Kairos.Engine.prototype.toHours=function(){return this.milliseconds/i.HOUR},Kairos.Engine.prototype.toMinutes=function(){return this.milliseconds/i.MINUTE},Kairos.Engine.prototype.toSeconds=function(){return this.milliseconds/i.SECOND},Kairos.Engine.prototype.toMilliseconds=function(){return this.milliseconds},Kairos.Engine.prototype.toAbsolute=function(){return this.milliseconds=Math.abs(this.milliseconds),this},Kairos.Engine.prototype.plus=function(i,t){return i=new Kairos.Engine(i,t),this.milliseconds+=i.toMilliseconds(),this},Kairos.Engine.prototype.minus=function(i,t){return i=new Kairos.Engine(i,t),this.milliseconds-=i.toMilliseconds(),this},Kairos.Engine.prototype.multiply=function(i){return this.milliseconds*=i,this},Kairos.Engine.prototype.divide=function(i){return this.milliseconds/=i,this},Kairos.Engine.prototype.compareTo=function(i,t){return i=new Kairos.Engine(i,t),this.milliseconds<i.toMilliseconds()?-1:this.milliseconds===i.toMilliseconds()?0:this.milliseconds>i.toMilliseconds()?1:void 0},Kairos.Engine.prototype.toString=function(i){return Kairos.Lexicon.format(this,i)}}();